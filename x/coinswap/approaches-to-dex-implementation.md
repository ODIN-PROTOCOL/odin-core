The main thing about DEX implementation is the formation of its exchange rates. Two main approaches to the formation of the exchange rate can be distinguished:
* the exchange rate is taken from a third-party resource (for example, Coinmarketcap), in this case, the number of liquidity pools is equal to the number of currencies available for exchange;
* users are given the opportunity to independently create liquidity pools and define their parameters (such as fee for leaving the pool, minimum pool filling, etc.).

The first approach limits the possibility of arbitrage, that is, earning on the difference in exchange rates on different exchange sites, but centralizes the system.
<br>The second approach allows you to create pools (possibly an unlimited number of them competing pools) with 2+ currencies to exchange with your own exchange rates. The problem with this approach is that it provides significant arbitrage earning opportunities even within the Odin exchange system. If this approach is used, it makes sense to automatically compare pool exchange rate with exchange rates on other sites and inform the user about the existence of such a difference. Then the user will be able to decide on the use of the pool, taking into account the exchange benefit and the size of the commission.
<br>A mixed approach is one in which the exchange rate adjusts automatically as exchange transactions take place. For example, if the initial Odin to Geo price ratio is 1:1, but users are actively selling Odin, the Geo price in the liquidity pool will automatically move up. As an alternative or addition, a soft adjustment of the exchange rate in the direction of the existing one in the external market can act.
<br><br>Given the possibility of fluctuations in the rate at the time of the exchange, it is mandatory to provide the user with the opportunity to choose the maximum possible deviation from the rate that existed at the time of the creation of the transaction (for example, from 0.5% to 1.5%).
<br>An important aspect of a distributed exchange is to maintain a sufficient amount of liquidity in the pools, and especially given the current exchange rate - the ratio of the amounts of different currencies in the pool should be as close as possible to the exchange rate. To this end, it is possible to create a mechanism that encourages users to contribute tokens of the missing denomination to the pool and / or automatically balance the number of coins withdrawn from the pool in order to prevent the missing denomination coins from being washed out of the pool.
<br>To prevent malicious behavior, fees to withdraw funds from the pool and / or extended withdrawals in time can be used.
<br><br>The most convenient way to implement user-created pools is weight-based (Osmosis-inspired). For example, the weights of Odin, Geo and Bitcoin can be defined as `1:1:2`, which means that `1 Odin = 0.5 Bitcoin`, `1 Bitcoin = 2 Geo`, `1 Odin = 1 Geo`.